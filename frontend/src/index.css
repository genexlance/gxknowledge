/* Tailwind base (if Tailwind is enabled) */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design system variables */
:root {
  --black-pure: #000000;
  --black-90: #0A0A0A;
  --charcoal-dark: #1C1C1C;
  --charcoal: #2A2A2A;
  --charcoal-light: #383838;
  --charcoal-lighter: #464646;

  --lime-primary: #84CC16;
  --lime-bright: #A3E635;
  --lime-light: #BEF264;
  --lime-dark: #65A30D;

  --text-primary: #FFFFFF;
  --text-secondary: #B3B3B3;
  --text-muted: #808080;
  --background-primary: var(--black-90);
}

html, body, #root {
  height: 100%;
}

/* Put spacing on padding, not margin */
body {
  margin: 0;
  padding: 55px;

  color: var(--text-primary);
  font-family: 'Geist', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;

  /* Content sits above the overlay */
  position: relative;
  z-index: 1;
  border-top:solid 22px var(--lime-bright);
}

/* Background image lives on html so itâ€™s always full-viewport */
html {
  background: url('bg.png') center / cover repeat #000;
}

/* Fixed gradient pinned to the viewport, behind text */
html::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(to top, rgba(0,0,0,0.8) 35%, rgba(0,0,0,0) 65%);
  z-index: 0;
}

.h1 { font-weight: 600; font-size: 3.5rem; line-height: 1.1; }
.h2 { font-weight: 600; font-size: 2.5rem; line-height: 1.2; }
.h1 strong{ font-weight: 300; font-size: 0.8em; }
.h2 strong{ font-weight: 300; font-size: 0.8em; }
@media (max-width: 600px) {
  .h1 {
    font-size: 2.2rem;  /* smaller-ass heading for mobile */
    line-height: 1.15;
  }
  .h2 {
    font-size: 1.8rem;  /* smaller-ass subheading for mobile */
    line-height: 1.25;
  }
}



.body-regular { font-weight: 300; font-size: 1rem; line-height: 1.77; }

/* Chat UI */
.chat-container { max-width: 900px; margin: 0 auto; padding: 2rem 1rem;z-index: 7; }
.chat-header { display: flex; align-items: center; gap: 5px; margin-bottom: 1rem; max-width: 90%;}

:root{
  --glitch-period: 7s;    /* how often */
  --g-str: 4px;           /* shake distance */
  --g-tilt-1: 7deg;       /* angles per flash */
  --g-tilt-2: -3deg;
  --g-tilt-3: 11deg;
}

.chat-logo{
  width:144px;
  height:144px;
  display:block;
  position:relative;
  overflow:visible;
  will-change: transform, filter, clip-path;
  animation: glitch3 var(--glitch-period) steps(1,end) infinite;
}

@keyframes glitch3{
  /* chill */
  0%,80%,
  82.6%,83.6%,
  84.2%,85.2%,
  85.8%,100%{
    transform:none;
    filter:none;
    clip-path: inset(0);
  }

  /* flash 1 */
  82%{
    transform: translate(var(--g-str), calc(var(--g-str) * -1))
               skewX(var(--g-tilt-1));
    filter:
      contrast(1.25) saturate(1.1)
      drop-shadow(-2px 0 rgba(255,0,0,.65))
      drop-shadow( 2px 0 rgba(0,255,255,.65));
    clip-path: inset(0 0 58% 0); /* slice top */
  }

  /* flash 2 */
  83.2%{
    transform: translate(calc(var(--g-str) * -1), 1px)
               skewY(var(--g-tilt-2));
    filter:
      contrast(1.3)
      drop-shadow( 2px 0 rgba(255,0,0,.65))
      drop-shadow(-2px 0 rgba(0,255,255,.65));
    clip-path: inset(42% 0 0 0);  /* slice bottom */
  }

  /* flash 3 */
  84.8%{
    transform: translate(1px,0) rotate(0.6deg)
               skewX(var(--g-tilt-4));
    filter:
      contrast(1.35)
      drop-shadow(-1px 0 rgba(255,0,0,.6))
      drop-shadow( 1px 0 rgba(0,255,255,.6));
    clip-path: inset(10% 0 10% 0); /* thin strip */
  }
}

/* Motion safety */
@media (prefers-reduced-motion: reduce){
  .chat-logo{ animation:none; }
}



.messages { display: flex; flex-direction: column; gap: 12px; padding: 1rem; min-height: 10vh; z-index: 7;}
.ai-response {
  border-left: 3px solid #525252;
  padding: 12px;
  border-radius: 8px;
  position: relative;
  padding:33px;
  line-height:1.44;
}

.ai-response::before {
  content: "";
  position: absolute;
  left: -9px; /* Adjust so arrow is outside border */
  top: 50%;
  transform: translateY(-50%);
  width: 0;
  height: 0;
  border-top: 8px solid transparent;
  border-bottom: 8px solid transparent;
  border-right: 8px solid #525252; /* Match border color */
  
}

.user-message {
  border-right: 3px solid var(--lime-primary);
  padding: 12px;
  border-radius: 8px;
  text-align: right;
  position: relative;
}

.user-message::after {
  content: "";
  position: absolute;
  right: -9px; /* Adjust so arrow is outside border */
  top: 50%;
  transform: translateY(-50%);
  width: 0;
  height: 0;
  border-top: 8px solid transparent;
  border-bottom: 8px solid transparent;
  border-left: 8px solid var(--lime-primary); /* Match border color */
}
.ai-response .title, .ai-response strong { font-weight: 900; font-size: 1.1rem; }
.ai-response a { color: var(--lime-light); text-decoration: underline; }
.typing-caret { display: inline-block; width: 10px; background: var(--lime-primary); height: 1em; margin-left: 2px; animation: blink 1s step-start infinite; z-index: 7;line-height:1.44;}
@keyframes blink { 50% { opacity: 0; } }

/* Modal */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 24px;
  border-top:solid 22px var(--lime-bright);
}
.modal {
  width: min(95vw, 1100px);
  max-height: 85vh;
  background: rgba(0,0,0,0.88);
  border: 1px solid var(--charcoal-light);
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  border-bottom: 1px solid var(--charcoal-light);
}
.modal-close {
  position: absolute;
  top: 16px;
  right: 16px;
  width: 40px;
  height: 40px;
  border-radius: 20px;
  font-size: 24px;
  line-height: 36px;
  text-align: center;
  background: rgba(0,0,0,0.9);
  color: #fff;
  border: 1px solid var(--charcoal-light);
  cursor: pointer;
}
.modal-title { font-weight: 700; font-size: 1.5rem; line-height: 1.3; }
.modal-actions { display: flex; gap: 8px; }
.modal-body { flex: 1; overflow: auto; padding: 20px; }
.modal-iframe { width: 100%; height: 100%; border: 0; }
.modal-html {
  width: 100%;
  color: #d0d0d0;
}
.modal, .modal * {
  font-family: 'Geist', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}
.modal-html article {
  max-width: 900px;
  margin: 0 auto;
  line-height: 1.7;
  font-size: 1rem;
  overflow-wrap: break-word;
  word-break: normal;
  hyphens: auto;
  white-space: normal;
}
.modal-html * { max-width: 100%; }
.modal-html h1, .modal-html h2, .modal-html h3, .modal-html h4, .modal-html h5, .modal-html h6 {
  font-weight: 700;
  line-height: 1.25;
  margin: 1.25em 0 0.5em;
}
.modal-html h1 { font-size: 2rem; }
.modal-html h2 { font-size: 1.6rem; }
.modal-html h3 { font-size: 1.3rem; }
.modal-html p { margin: 1em 0; }
.modal-html ul, .modal-html ol { padding-left: 1.25rem; margin: 1em 0; }
.modal-html li { margin: 0.3em 0; }
.modal-html blockquote {
  margin: 1em 0;
  padding-left: 1em;
  border-left: 3px solid var(--charcoal-light);
  color: var(--text-secondary);
}
.modal-html code { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size: 0.95em; }
.modal-html pre { background: #0f0f0f; padding: 12px; overflow: auto; border-radius: 8px; white-space: pre-wrap; }
.modal-html table { width: 100%; border-collapse: collapse; display: block; overflow: auto; }
.modal-html th, .modal-html td { border: 1px solid #333; padding: 8px; text-align: left; }
.modal-html hr { border: 0; border-top: 1px solid var(--charcoal-light); margin: 1.5em 0; }
.modal-html img { max-width: 100%; height: auto; }
.modal-html a { color: var(--lime-bright); text-decoration: underline; }
.input-row { display: flex; gap: 8px; margin-top: 12px; }
.chat-input { flex: 1; background: var(--black-90); border: 1px solid var(--charcoal-light); color: var(--text-primary); padding: 12px; border-radius: 8px; }
.send-button { background: var(--lime-primary); color: var(--black-pure); font-weight: 700; padding: 12px 20px; border: 0; border-radius: 10px; cursor: pointer; transition: all .2s ease; }
.send-button:hover { background: var(--lime-bright); transform: scale(1.1); }
.send-button:active { background: var(--lime-dark); transform: translateY(0); }

.meta { color: var(--text-secondary); font-size: 0.875rem; margin-top: 6px; }
